---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const projects = await getCollection('projects');
  return projects.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props;
const { Content } = await project.render();
---

<Layout title={project.data.title}>
  <article>
    <header>
      <h1>{project.data.title}</h1>
      <p style="font-size: 1.1rem; color: #666;">{project.data.description}</p>
      
      <div style="display: flex; gap: 1rem; margin: 1rem 0;">
        {project.data.demoUrl && (
          <a href={project.data.demoUrl}>View Demo</a>
        )}
        {project.data.repoUrl && (
          <a href={project.data.repoUrl}>View Code</a>
        )}
      </div>
    </header>
    
    <Content />
    
    <footer style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #eee;">
      <a href="/projects">‚Üê Back to projects</a>
    </footer>
  </article>
</Layout>
